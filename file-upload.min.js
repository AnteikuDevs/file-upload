"undefined"==typeof $&&alert("File Upload : Jquery is required!"),$("head").append("<style>@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap'); * { box-sizing: border-box; } .anteikudevs-fileupload { --file-upload-background: #fff; --file-upload-primary: #f57272; --file-upload-secondary: #fffcec; --file-upload-tertiary: #FFB68F; position: relative; user-select: none; font-family: 'Poppins', sans-serif !important; max-width: 576px; } .anteikudevs-fileupload img { max-width: 100%; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content { background-color: var(--file-upload-background, #fff); width: 100%; display: flex; flex-direction: row; border-radius: 10px; align-items: center; padding: 0.8rem 1rem; gap: 1rem; grid-row: 2/span 2; box-shadow: 0 0 10px rgba(100, 100, 100, 0.15); transition: all 0.2s linear; animation: zoomIn; animation-duration: 0.2s; position: relative; border-image-width: 5px; overflow: hidden; flex-wrap: wrap; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content.drag { border-color: #FFD424; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content.drop { border-color: #03AC0E; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:icon { width: 70px; height: 70px; border-radius: 5px; background-color: var(--file-upload-secondary, #fffcec); border: 1px solid var(--file-upload-primary, #f57272); color: var(--file-upload-primary, #f57272); display: flex; align-items: center; flex-direction: column; justify-content: center; font-size: 20px; position: relative; padding: 0.8rem 0; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:icon .anteikudevs-fileupload\\:icon_svg { width: 20px; height: 20px; margin-bottom: 5px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:icon .anteikudevs-fileupload\\:icon_svg svg path { fill: var(--file-upload-primary, #f57272); } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:icon .anteikudevs-fileupload\\:highlight { width: 100%; font-size: 10px; display: block; color: var(--file-upload-primary, #f57272); text-align: center; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:info { flex: 1; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:info .anteikudevs-fileupload\\:info_title { margin: 0; font-size: 14px; font-weight: 600; margin-bottom: 5px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:info .anteikudevs-fileupload\\:info_span { font-size: 12px; color: #6c757d; display: block; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action { width: 100%; text-align: right; } @media screen and (min-width: 768px) { .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action { width: 90px; } } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled { pointer-events: none; background-color: #f8f9fa; color: #ced4da; border-color: transparent; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled svg { fill: #ced4da; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse { transition: all 0.2s linear; display: inline-flex; align-items: center; justify-content: center; background-color: var(--file-upload-background, #fff); border-radius: 10px; border: 1.5px solid var(--file-upload-primary, #f57272); color: var(--file-upload-primary, #f57272); padding: 10px 12px; user-select: none; cursor: pointer; width: 100%; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse svg { width: 20px; margin-right: 0.3rem; fill: var(--file-upload-primary, #f57272); transition: fill 0.3s linear; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:focus, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:hover, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:active { border-color: transparent; background-color: var(--file-upload-primary, #f57272); color: var(--file-upload-background, #fff); } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:focus svg, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:hover svg, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse:active svg { fill: var(--file-upload-background, #fff); } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:focus, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:hover, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:active { background-color: #f8f9fa; color: #ced4da; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:focus svg, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:hover svg, .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:action .anteikudevs-fileupload\\:action_browse.disabled:active svg { fill: #ced4da; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:loading { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-color: rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; z-index: -1; transition: all 0.2s linear; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:loading svg { width: 50px; height: 50px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:loading svg circle { stroke: var(--file-upload-primary, #f57272); } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:dragged { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-color: rgb(255, 255, 255); display: flex; align-items: center; justify-content: center; z-index: -1; transition: all 0.2s linear; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:dragged svg { width: 50px; height: 50px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:content .anteikudevs-fileupload\\:dragged svg circle { stroke: var(--file-upload-primary, #f57272); } .anteikudevs-fileupload .anteikudevs-fileupload\\:error { position: relative; width: 100%; } .anteikudevs-fileupload .anteikudevs-fileupload\\:error .anteikudevs-fileupload\\:error_item { font-size: 12px; color: #dc3545; display: block; margin-top: 10px; font-weight: 500; padding: 0.5rem 0.8rem; border: 1px solid var(--file-upload-danger, #dc3545); border-radius: 10px; background: var(--file-upload-sub-danger, #fcf0f1); } .anteikudevs-fileupload .anteikudevs-fileupload\\:error .anteikudevs-fileupload\\:error_item .anteikudevs-fileupload\\:error_filename { max-width: 100px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result { position: relative; width: 100%; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item { width: 100%; display: flex; flex-direction: row; border-radius: 10px; align-items: center; padding: 15px; gap: 10px; margin-top: 15px; margin-bottom: 8px; box-shadow: 0 0 8px #eaeaea; animation: fadeIn; animation-duration: 0.5s; background-color: var(--file-upload-background, #fff); } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_image { width: 43px; height: 43px; border-radius: 5px; display: flex; align-items: center; border: 1px solid var(--file-upload-primary, #f57272); overflow: hidden; cursor: pointer; background-color: var(--file-upload-secondary, #fffcec); } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_image img { transition: all 0.2s linear; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_image svg { width: 20px; height: 20px; margin: auto; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_image svg path { fill: var(--file-upload-primary, #f57272); } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_image:hover img { transform: scale(1.5); } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_info { flex: 1; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_info .anteikudevs-fileupload\\:result_info_title { font-size: 14px; font-weight: 600; margin: 0; margin-bottom: 5px; display: -webkit-box; -webkit-line-clamp: 1; /* Number of lines to display */ -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_info .file_upload_result_info_span { font-size: 12px; display: block; color: #adb5bd; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_action { width: 20px; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_action .anteikudevs-fileupload\\:result_action_close { width: 25px; height: 25px; transition: all 0.2s linear; display: inline-flex; align-items: center; justify-content: center; background-color: var(--file-upload-primary, #f57272); border-radius: 50%; color: var(--file-upload-primary, #f57272); user-select: none; border: 0; outline: none; font-size: 12px; cursor: pointer; } .anteikudevs-fileupload .anteikudevs-fileupload\\:result .anteikudevs-fileupload\\:result_item .anteikudevs-fileupload\\:result_action .anteikudevs-fileupload\\:result_action_close svg { width: 13px; height: 13px; fill: var(--file-upload-background, #fff); } .anteikudevs-fileupload\\:preview { position: fixed; top: 0; left: 0; width: 100%; height: 100%; padding: 0.5rem; display: none; z-index: 1060; max-height: 100vh; overflow: auto; transition: all 0.2s linear; } .anteikudevs-fileupload\\:preview img { width: 100%; } .anteikudevs-fileupload\\:preview.show { display: flex; } .anteikudevs-fileupload\\:preview.show .anteikudevs-fileupload\\:preview_dialog { display: block; animation: zoomIn; animation-duration: 0.3s; } .anteikudevs-fileupload\\:preview.hiding .anteikudevs-fileupload\\:preview_dialog { animation: zoomOut; animation-duration: 0.3s; } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog { position: relative; border-radius: 10px; background-color: #fff; width: 100%; margin: auto; display: none; box-shadow: 0 0 10px rgba(154, 154, 154, 0.21); } @media screen and (min-width: 768px) { .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog { width: 500px; } } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_header { position: relative; width: 100%; padding: 1rem; display: flex; align-items: center; justify-content: space-between; } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_header .anteikudevs-fileupload\\:preview_title { font-size: 1.6rem; margin: 0; color: var(--file-upload-primary, #f57272); } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_header .anteikudevs-fileupload\\:preview_btn_close { width: 25px; height: 25px; border-radius: 50%; background-color: var(--file-upload-primary, #f57272); display: flex; align-items: center; justify-content: center; border: 0; outline: none; cursor: pointer; } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_header .anteikudevs-fileupload\\:preview_btn_close svg { width: 15px; height: 15px; fill: var(--file-upload-background, #fff); } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_body { width: 100%; position: relative; padding: 0.5rem 1rem; min-height: 100px; } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_footer { width: 100%; padding: 1rem 0.8rem; display: flex; justify-content: space-between; } .anteikudevs-fileupload\\:preview .anteikudevs-fileupload\\:preview_dialog .anteikudevs-fileupload\\:preview_content .anteikudevs-fileupload\\:preview_footer .btn { display: inline-block; background-color: var(--file-upload-primary, #f57272); color: var(--file-upload-background, #fff); border: 0; border-radius: 10px; padding: 0.6rem 1rem; margin: 0 auto; cursor: pointer; outline: none; } .anteikudevs-fileupload\\:preview_backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.15); z-index: 1060; display: none; } body.anteikudevs-fileupload\\:show .anteikudevs-fileupload\\:preview_backdrop { display: block; animation: fadeIn; animation-duration: 0.3s; } @-webkit-keyframes zoomIn { 0% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } 50% { opacity: 1; } } @keyframes zoomIn { 0% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } 50% { opacity: 1; } } @-webkit-keyframes fadeIn { 0% { opacity: 0; } to { opacity: 1; } } @keyframes fadeIn { 0% { opacity: 0; } to { opacity: 1; } } @-webkit-keyframes zoomOut { 0% { opacity: 1; } 50% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } to { opacity: 0; } } @keyframes zoomOut { 0% { opacity: 1; } 50% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } to { opacity: 0; } }</style>");let file_upload_acceptedFiles={mp3:{type:"audio",format:"audio/mpeg"},wav:{type:"audio",format:"audio/wav"},mp4:{type:"video",format:"video/mp4"},mkv:{type:"video",format:"video/mkv"},gif:{type:"image",format:"image/gif"},jpg:{type:"image",format:"image/jpeg"},jpeg:{type:"image",format:"image/jpeg"},png:{type:"image",format:"image/png"},webp:{type:"image",format:"image/webp"},svg:{type:"image",format:"image/svg+xml"},xlsx:{type:"file",format:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},xls:{type:"file",format:"application/vnd.ms-excel"},csv:{type:"file",format:"text/csv"},pdf:{type:"file",format:"application/pdf"},docx:{type:"file",format:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},doc:{type:"file",format:"application/msword"},ppt:{type:"file",format:"application/vnd.ms-powerpoint"},pptx:{type:"file",format:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}};function file_upload_GenerateRandId(e=10){for(var i="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=a.length,l=0;l<e;l++)i+=a.charAt(Math.floor(Math.random()*t));return i}function file_upload_createEvent(e,i,a){$(document).on(i,e,function(e){a(e,this)})}let modalId="__"+file_upload_GenerateRandId(17);$("body").append('<div class="anteikudevs-fileupload:preview_backdrop"></div>').append(`<div class="anteikudevs-fileupload:preview" ${modalId}><div class="anteikudevs-fileupload:preview_dialog" ${modalId+"-dialog"}><div class="anteikudevs-fileupload:preview_content" ${modalId+"-content"}><div class="anteikudevs-fileupload:preview_header"><h4 class="anteikudevs-fileupload:preview_title" ${modalId+"-title"}>Preview</h4><button type="button" class="anteikudevs-fileupload:preview_btn_close" data-close="true" ${modalId+"-close"}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div><div class="anteikudevs-fileupload:preview_body" ${modalId+"-body"}></div><div class="anteikudevs-fileupload:preview_footer" ${modalId+"-footer"}><button  type="button" class="btn" data-close="true">Close</button></div></div></div></div>`),file_upload_createEvent("["+modalId+'] [data-close="true"]',"click",function(e){$("["+modalId+"]").addClass("hiding"),setTimeout(function(){$("body").removeClass("anteikudevs-fileupload:show"),$("["+modalId+"] ["+modalId+"-body]").html(""),$("["+modalId+"]").removeClass("show").removeClass("hiding")},230)}),file_upload_createEvent("["+modalId+"]","click",function(e,i){e.target==i&&($("["+modalId+"]").addClass("hiding"),setTimeout(function(){$("body").removeClass("anteikudevs-fileupload:show"),$("["+modalId+"] ["+modalId+"-body]").html(""),$("["+modalId+"]").removeClass("show").removeClass("hiding")},230))});class FileUpload{constructor(e,i={},a=!1){this.selector=e,this.config=i,this.accept=["*"],this.acceptInput=["*"],this.title=null,this.maxSize=null,this.maxFile=null,this.lang="en",this.customs=null,this.name=null,this.multipart=!1,this.selectorId="",this.inputId="",this.contentId="",this.resultId="",this.browseId="",this.loadingId="",this.contentDragId="",this.theme="light",this.data=[],this.blob=[],this.currentData=[],this.deletedIds=[],this.defaultStyle=`padding: 2px 5px;
            border-radius: 4px;
            color: white; 
            background-color: #f57272`,a&&this.log("Enabled"),this.validateConfig()}log(...e){console.log("%canteikudevs-file-upload",this.defaultStyle,...e)}validateConfig(){let e=this.config,i=this;if(this.selector){if(0==$(this.selector).length)return!1;let a="__"+file_upload_GenerateRandId(9);$(this.selector).attr("data-theme"),$(this.selector).attr(a,""),this.selectorId="["+a+"]"}if(void 0!==e.title&&(this.title=e.title),void 0!==e.accept){if(!Array.isArray(e.accept))return this.log("Config {accept} is not array."),!1;let t=Array.isArray(e.accept)?e.accept:["*"],l=[];t.forEach(e=>{if("*"!=e){let i=null;if(!file_upload_acceptedFiles[e])return this.log("Accept (."+e+") format was not found."),!1;i=file_upload_acceptedFiles[e].format,l.push(i)}}),l.length&&(this.acceptInput=l),this.accept=t}if(e.multipart,"boolean"==typeof e.multipart&&(this.multipart=e.multipart),e.name&&(this.name=e.name),void 0!==e.maxSize){if(isNaN(e.maxSize))return this.log("Config {maxSize} is not a number."),!1;this.maxSize=parseInt(e.maxSize)}if(void 0!==e.maxFile){if(isNaN(e.maxFile))return this.log("Config {maxFile} is not a number."),!1;this.maxFile=parseInt(e.maxFile)}if(void 0!==e.customs&&$.each(e.customs,function(e,a){$(i.selectorId).get(0).style.setProperty("--file-upload-"+e,a),$("["+modalId+"]").get(0).style.setProperty("--file-upload-"+e,a)}),void 0!==e.lang){if(!["id","en"].includes(e.lang))return this.log("Config {lang} only id and en"),!1;this.lang=e.lang}this.draw()}draw(){let e=this.drawContent();$(this.selectorId).addClass("anteikudevs-fileupload"),$(this.selectorId).html(e)}drawContent_info_format(){let e=Array.isArray(this.accept)?this.accept:["*"],i=[];e.forEach(e=>{void 0!=file_upload_acceptedFiles[e]&&i.push("."+e)});let a=i.join(", "),t="All file formats";"id"==this.lang&&(t="Semua format file"),a&&(t="Format : <strong>"+a+"</strong>","id"==this.lang&&(t="Format : <strong>"+a+"</strong>"));let l=this.maxSize?parseInt(this.maxSize):null,d="";null!=l&&(d=`Max : <strong>${l}MB</strong>`,"id"==this.lang&&(d=`Maksimal : <strong>${l}MB</strong>`));let o=[t,d],n="";return $.each(o,function(e,i){n+=`<span class="anteikudevs-fileupload:info_span">${i}</span>`}),n}drawContent_info(){let e=this.config,i=e.title?e.title:null,a="";return i&&(a=`<h4 class="anteikudevs-fileupload:info_title">${i}</h4>`),`<div class="anteikudevs-fileupload:info">${a}${this.drawContent_info_format()}</div>`}drawContent_action(){let e=this,i="__"+file_upload_GenerateRandId(7),a="__"+file_upload_GenerateRandId(8);this.inputId="["+i+"]",this.inputDeletedId="["+a+"]";let t="__"+file_upload_GenerateRandId(8);this.browseId="["+t+"]";let l="",d="",o=this.maxFile>1,n=this.name?this.name:"files";if(d=$(document.createElement("input")).attr({type:"text",hidden:!0,name:"deleted_ids",[a]:""}).prop("outerHTML"),this.multipart)l=$(document.createElement("input")).attr({type:"file",accept:this.acceptInput,hidden:!0,multiple:o,name:n,[i]:""}).prop("outerHTML");else{let s=$(document.createElement("div")).append($(document.createElement("input")).attr({type:"file",accept:this.acceptInput,hidden:!0,multiple:o,name:n,[i]:""}));$("body").append(s)}let u="Browse";"id"==this.lang&&(u="Jelajahi");let r=`<div class="anteikudevs-fileupload:action"><button type="button" class="anteikudevs-fileupload:action_browse" ${t}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M88.7 223.8L0 375.8V96C0 60.7 28.7 32 64 32H181.5c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7H416c35.3 0 64 28.7 64 64v32H144c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224H544c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480H32c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"/></svg> ${u}</button> ${l+d}</div>`;return file_upload_createEvent("["+t+"]","click",function(e){$("["+i+"]").trigger("click")}),file_upload_createEvent("["+i+"]","change",function(i){i.target.files.length&&e.renderUpload(i.target.files)}),r}drawContent_loading(){let e="__"+file_upload_GenerateRandId(7);return this.loadingId="["+e+"]",`<div class="anteikudevs-fileupload:loading" ${e}></div>`}drawContent_dragEvent(){let e="__"+file_upload_GenerateRandId(7);return this.contentDragId="["+e+"]",`<div class="anteikudevs-fileupload:dragged" ${e}></div>`}loading(e="show"){"show"==e?($(this.loadingId).css("zIndex",1),$(this.loadingId).html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="32" stroke-width="8" stroke="#2b3252" stroke-dasharray="50.26548245743669 50.26548245743669" fill="none" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle></svg>')):($(this.loadingId).css("zIndex","-1"),$(this.loadingId).html(""))}drawContent(){let e="";null!=this.maxFile&&(e=`<span class="anteikudevs-fileupload:highlight">Max: ${this.maxFile} file</span>`);let i=`<div class="anteikudevs-fileupload:icon"><div class="anteikudevs-fileupload:icon_svg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z"/></svg></div>${e}</div>`,a="__"+file_upload_GenerateRandId(4)+"__";this.contentId="["+a+"]";let t=`<div class="anteikudevs-fileupload:content" ${a}>${i}${this.drawContent_info()}${this.drawContent_action()}${this.drawContent_loading()}${this.drawContent_dragEvent()}</div>${this.drawError()}${this.drawResult()}`;return this.renderEventDragAndDrop(),t}drawError(){let e="__"+file_upload_GenerateRandId(11);return this.errorId="["+e+"]",`<div class="anteikudevs-fileupload:error" ${e}></div>`}drawResult(){let e="__"+file_upload_GenerateRandId(11);return this.resultId="["+e+"]",`<div class="anteikudevs-fileupload:result" ${e}></div>`}renderEventDragAndDrop(){let e=this;file_upload_createEvent(this.contentId,"dragover",function(i,a){i.preventDefault(),$(a).addClass("drag"),$(e.browseId).addClass("disabled")}),file_upload_createEvent(this.contentId,"dragleave",function(i,a){i.preventDefault(),$(a).removeClass("drag"),$(e.browseId).removeClass("disabled")}),file_upload_createEvent(this.contentId,"drop",function(i,a){i.preventDefault();var t=i.originalEvent.dataTransfer.files;$(a).addClass("drop"),e.renderUpload(t),$(e.browseId).removeClass("disabled")})}renderUpload(e){let i=this,a=i.lang,t=[],l=this.data.length;if(null!=this.maxFile&&l+e.length+(this.currentData.length-this.deletedIds.length)>this.maxFile&&("id"==a?t.push(`File yang diunggah melebihi ${this.maxFile}`):t.push(`Uploaded files exceed ${this.maxFile}`)),this.loading("show"),$.each(e,function(l,d){let o=d.type,n=d.size,s=d.name,u=s;if(u.length>25&&(u=u.substr(0,10)+"...."+u.substr(u.length-10,u.length)),"*"==i.accept[0]||i.acceptInput.includes(o)||("id"==a?t.push(`<strong class="anteikudevs-fileupload:error_filename">"${u}"</strong> format tidak sesuai`):t.push(`The uploaded <strong class="anteikudevs-fileupload:error_filename">"${u}"</strong> file format does not match`)),null!=i.maxSize&&n>1e6*i.maxSize&&("id"==a?t.push(`Ukuran maksimal file <strong class="anteikudevs-fileupload:error_filename">"${u}"</strong> harus ${i.maxSize}MB`):t.push(`The maximum size of the <strong class="anteikudevs-fileupload:error_filename">"${u}"</strong> file must be ${i.maxSize}MB`)),0==t.length){var r=new FileReader;r.addEventListener("load",function(e){let a=e.target.result,l={id:("__"+file_upload_GenerateRandId(13)).toString(),name:s,size:n/1e3,type:o,fileType:i.getAcceptFileType(o),data:a,file:d};0==t.length&&i.drawUploadFile(l)}),r.readAsDataURL(d)}e.length==l+1&&(!1==i.multipart&&$(i.inputId).val(""),setTimeout(()=>{i.loading("hide")},300))}),$(this.errorId).html(""),t.length){let d="";$.each(t,function(e,i){let a="--"+file_upload_GenerateRandId(9);d+=`<span class="anteikudevs-fileupload:error_item" ${a}>${i}</span>`,file_upload_createEvent("["+a+"]","click",function(e){e.preventDefault(),$(e.target).remove()})}),$(this.errorId).html(d)}setTimeout(function(){$(i.contentId).removeClass("drop drag")},300)}getAcceptFileType(e){let i="";return $.each(file_upload_acceptedFiles,function(a,t){t.format==e&&(i=t.type)}),i}drawUploadFile(e){let i=this,a="",t="__"+file_upload_GenerateRandId(16);"image"==this.getAcceptFileType(e.type)&&(a=`<div class="anteikudevs-fileupload:result_image" ${t}><img src="${e.data}" alt="${e.name}"></div>`,file_upload_createEvent("["+t+"]","click",function(a){i.previewFile(e)})),("video"==this.getAcceptFileType(e.type)||"audio"==this.getAcceptFileType(e.type))&&(a=`<div class="anteikudevs-fileupload:result_image" ${t}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></div>`,file_upload_createEvent("["+t+"]","click",function(a){i.previewFile(e)}));let l="__"+file_upload_GenerateRandId(10);file_upload_GenerateRandId(12);let d=e.name;d.length>25&&(d=d.substr(0,10)+"...."+d.substr(d.length-10,d.length));let o=`<div class="anteikudevs-fileupload:result_item" ${e.id}>${a}<div class="anteikudevs-fileupload:result_info"><h4 class="anteikudevs-fileupload:result_info_title">${d}</h4><span class="file_upload_result_info_span">${e.size} KB</span></div><div class="anteikudevs-fileupload:result_action"><button type="button" class="anteikudevs-fileupload:result_action_close" ${l}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div></div>`;file_upload_createEvent("["+l+"]","click",function(a){i.removeUploadedFile(e.id)}),this.data.push(e),this.blob=[...this.blob,new File([e.file],e.name)],null!=this.maxFile&&this.data.length+(this.currentData.length-this.deletedIds.length)==this.maxFile&&$(this.browseId).addClass("disabled"),$(this.resultId).append(o),$(this.selector).trigger("upload")}removeUploadedFile(e){let i=this.data,a=i.findIndex(i=>i.id==e.toString());a>-1&&i.splice(a,1),this.data=i,$("["+e+"]").fadeOut(200),setTimeout(()=>{$("["+e+"]").remove()},200),$(this.browseId).removeClass("disabled")}previewFile(e){let i=`<img src="${e.data}" alt="${e.name}">`;"video"==e.fileType&&(i=`<video autoplay controls style="width: 100%"><source type="${e.type}" src="${e.data}"></source></video>`),"audio"==e.fileType&&(i=`<audio autoplay controls style="width: 100%"><source type="${e.type}" src="${e.data}"></source></audio>`);let a="Previews",t="Close";"id"==this.lang&&(a="Pratinjau",t="Tutup"),$("["+modalId+"] ["+modalId+"-title]").html(a),$("["+modalId+"] ["+modalId+"-body]").html(i),$("["+modalId+"] ["+modalId+"-footer] .btn").text(t),$("["+modalId+"]").addClass("show"),$("body").addClass("anteikudevs-fileupload:show")}getValue(e=!1){if("blob"==e)return 1==this.maxFile?this.blob[0]??null:this.blob;let i=[];return($.each(this.data,function(a,t){e?i.push(t.data):i.push(t)}),1==this.maxFile)?i[0]??null:i}_refresh(){null!=this.maxFile&&(this.data.length+(this.currentData.length-this.deletedIds.length)==this.maxFile?$(this.browseId).addClass("disabled"):$(this.browseId).removeClass("disabled"))}clear(){this.data=[],this.blob=[],$(this.resultId).html(""),this._refresh()}_refreshValue(){null!=this.maxFile&&(this.currentData.length-this.deletedIds.length==this.maxFile?$(this.browseId).addClass("disabled"):$(this.browseId).removeClass("disabled"))}drawSetValue(e){let i=this,a="",t="__"+file_upload_GenerateRandId(16);"image"==e.fileType&&(a=`<div class="anteikudevs-fileupload:result_image" ${t}><img src="${e.data}" alt="${e.name}"></div>`,file_upload_createEvent("["+t+"]","click",function(a){i.previewFile(e)})),"video"==e.fileType&&(a=`<div class="anteikudevs-fileupload:result_image" ${t}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></div>`,file_upload_createEvent("["+t+"]","click",function(a){i.previewFile(e)}));let l="__"+file_upload_GenerateRandId(10),d=(file_upload_GenerateRandId(12),"__"+file_upload_GenerateRandId(13)),o=e.name;o.length>25&&(o=o.substr(0,10)+"...."+o.substr(o.length-10,o.length));let n=`<div class="anteikudevs-fileupload:result_item" ${d}>${a}<div class="anteikudevs-fileupload:result_info"><h4 class="anteikudevs-fileupload:result_info_title"><a href="${e.data}" target="_blank">${o}</a></h4></div><div class="anteikudevs-fileupload:result_action"><button type="button" class="anteikudevs-fileupload:result_action_close" ${l}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div></div>`;file_upload_createEvent("["+l+"]","click",function(a){i.removeSetValue(d,e.id)}),null!=this.maxFile&&this.data.length==this.maxFile&&$(this.browseId).addClass("disabled"),$(this.resultId).append(n)}removeSetValue(e,i){let a=$(this.inputDeletedId).val().split(",");a.push(i),$(this.inputDeletedId).val(a.join(",")),console.log($(this.inputDeletedId).val()),this.deletedIds.push(i),$("["+e+"]").fadeOut(200),setTimeout(()=>{$("["+e+"]").remove()},200),$(this.browseId).removeClass("disabled")}setValue(e){let i=this,a=[];if(Array.isArray(e))$.each(e,function(e,t){if(t.data){let l=t.data.split(".").pop(),d=t.name?t.name:t.data.split("/").pop(),o={id:t.id,name:d,type:file_upload_acceptedFiles[l].format,fileType:i.getAcceptFileType(file_upload_acceptedFiles[l].format),data:t.data};i.drawSetValue(o),a.push(o)}});else{let t=e.data.split(".").pop(),l=e.name?e.name:e.data.split("/").pop(),d={id:e.id?e.id:file_upload_GenerateRandId(9),name:l,type:file_upload_acceptedFiles[t].format,fileType:i.getAcceptFileType(file_upload_acceptedFiles[t].format),data:e.data};i.drawSetValue(d),a.push(d)}this.currentData=a,this._refreshValue()}clearValue(){if(this.currentData.length){let e=[];$.each(this.currentData,function(i,a){e.push(a.id)}),this.deletedIds=e}this.data=[],this.currentData=[],$(this.resultId).html("")}}