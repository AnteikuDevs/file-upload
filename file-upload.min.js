"undefined"==typeof $&&alert("File Upload : Jquery is required!"),$("head").append('<style>@import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"); * { box-sizing: border-box; } .file__upload { --file-upload-background: #fff; --file-upload-primary: #f57272; --file-upload-secondary: #fffcec; --file-upload-tertiary: #FFB68F; position: relative; user-select: none; font-family: "Poppins", sans-serif !important; } .file__upload img { max-width: 100%; } .file__upload .file__upload_content { background-color: var(--file-upload-background, #fff); width: 100%; display: flex; flex-direction: row; border-radius: 10px; align-items: center; padding: 18px 20px; gap: 20px; grid-row: 2/span 2; box-shadow: 0 0 10px rgba(100, 100, 100, 0.15); transition: all 0.2s linear; animation: zoomIn; animation-duration: 0.2s; position: relative; border: 2px dashed var(--file-upload-tertiary, #FFB68F); border-image-width: 5px; overflow: hidden; } .file__upload .file__upload_content.drag { border-color: #FFD424; } .file__upload .file__upload_content.drop { border-color: #03AC0E; } .file__upload .file__upload_content .file__upload_icon { width: 70px; height: 70px; border-radius: 5px; background-color: var(--file-upload-secondary, #fffcec); border: 1px solid var(--file-upload-primary, #f57272); color: var(--file-upload-primary, #f57272); display: flex; align-items: center; flex-direction: column; justify-content: center; font-size: 20px; position: relative; padding: 0.8rem 0; } .file__upload .file__upload_content .file__upload_icon .file__upload_icon_svg { width: 20px; height: 20px; margin-bottom: 5px; } .file__upload .file__upload_content .file__upload_icon .file__upload_icon_svg svg path { fill: var(--file-upload-primary, #f57272); } .file__upload .file__upload_content .file__upload_icon .file__upload_highlight { width: 100%; font-size: 10px; display: block; color: var(--file-upload-primary, #f57272); text-align: center; } .file__upload .file__upload_content .file__upload_info { flex: 1; } .file__upload .file__upload_content .file__upload_info .file__upload_info_title { margin: 0; font-size: 14px; font-weight: 600; margin-bottom: 5px; } .file__upload .file__upload_content .file__upload_info .file__upload_info_span { font-size: 12px; color: #6c757d; display: block; } .file__upload .file__upload_content .file__upload_action { width: 90px; text-align: right; } .file__upload .file__upload_content .file__upload_action .file__upload_action_browse.disabled { pointer-events: none; background-color: #f8f9fa; color: #ced4da; border-color: transparent; } .file__upload .file__upload_content .file__upload_action .file__upload_action_browse { transition: all 0.2s linear; display: inline-block; background-color: var(--file-upload-background, #fff); border-radius: 10px; border: 1.5px solid var(--file-upload-primary, #f57272); color: var(--file-upload-primary, #f57272); padding: 10px 12px; user-select: none; cursor: pointer; } .file__upload .file__upload_content .file__upload_action .file__upload_action_browse:focus, .file__upload .file__upload_content .file__upload_action .file__upload_action_browse:hover, .file__upload .file__upload_content .file__upload_action .file__upload_action_browse:active { border-color: transparent; background-color: var(--file-upload-primary, #f57272); color: var(--file-upload-background, #fff); } .file__upload .file__upload_content .file__upload_action .file__upload_action_browse.disabled:focus, .file__upload .file__upload_content .file__upload_action .file__upload_action_browse.disabled:hover, .file__upload .file__upload_content .file__upload_action .file__upload_action_browse.disabled:active { background-color: #f8f9fa; color: #ced4da; } .file__upload .file__upload_content .file__upload_loading { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-color: rgba(255, 255, 255, 0.5); display: flex; align-items: center; justify-content: center; z-index: -1; transition: all 0.2s linear; } .file__upload .file__upload_content .file__upload_loading svg { width: 50px; height: 50px; } .file__upload .file__upload_content .file__upload_loading svg circle { stroke: var(--file-upload-primary, #f57272); } .file__upload .file__upload_content .file__upload_dragged { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-color: rgb(255, 255, 255); display: flex; align-items: center; justify-content: center; z-index: -1; transition: all 0.2s linear; } .file__upload .file__upload_content .file__upload_dragged svg { width: 50px; height: 50px; } .file__upload .file__upload_content .file__upload_dragged svg circle { stroke: var(--file-upload-primary, #f57272); } .file__upload .file__upload_error { position: relative; width: 100%; } .file__upload .file__upload_error .file__upload_error_item { font-size: 12px; color: #dc3545; display: block; margin-top: 10px; font-weight: 500; padding: 0.5rem 0.8rem; border: 1px solid var(--file-upload-danger, #dc3545); border-radius: 10px; background: var(--file-upload-sub-danger, #fcf0f1); } .file__upload .file__upload_error .file__upload_error_item .file__upload_error_filename { max-width: 100px; } .file__upload .file__upload_result { position: relative; width: 100%; } .file__upload .file__upload_result .file__upload_result_item { width: 100%; display: flex; flex-direction: row; border-radius: 10px; align-items: center; padding: 15px; gap: 10px; margin-top: 15px; margin-bottom: 8px; box-shadow: 0 0 8px #eaeaea; animation: fadeIn; animation-duration: 0.5s; background-color: var(--file-upload-background, #fff); } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_image { width: 43px; height: 43px; border-radius: 5px; display: flex; align-items: center; border: 1px solid var(--file-upload-primary, #f57272); overflow: hidden; cursor: pointer; background-color: var(--file-upload-secondary, #fffcec); } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_image img { transition: all 0.2s linear; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_image svg { width: 20px; height: 20px; margin: auto; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_image svg path { fill: var(--file-upload-primary, #f57272); } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_image:hover img { transform: scale(1.5); } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_info { flex: 1; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_info .file__upload_result_info_title { font-size: 14px; font-weight: 600; margin: 0; margin-bottom: 5px; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_info .file_upload_result_info_span { font-size: 12px; display: block; color: #adb5bd; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_action { width: 20px; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_action .file__upload_result_action_close { width: 25px; height: 25px; transition: all 0.2s linear; display: inline-flex; align-items: center; justify-content: center; background-color: var(--file-upload-primary, #f57272); border-radius: 50%; color: var(--file-upload-primary, #f57272); user-select: none; border: 0; outline: none; font-size: 12px; cursor: pointer; } .file__upload .file__upload_result .file__upload_result_item .file__upload_result_action .file__upload_result_action_close svg { width: 13px; height: 13px; fill: var(--file-upload-background, #fff); } .file__upload_preview { position: fixed; top: 0; left: 0; width: 100%; height: 100%; padding: 0.5rem; display: none; z-index: 1060; max-height: 100vh; overflow: auto; transition: all 0.2s linear; } .file__upload_preview img { width: 100%; } .file__upload_preview.show { display: flex; } .file__upload_preview.show .file__upload_preview_dialog { display: block; animation: zoomIn; animation-duration: 0.3s; } .file__upload_preview.hiding .file__upload_preview_dialog { animation: zoomOut; animation-duration: 0.3s; } .file__upload_preview .file__upload_preview_dialog { position: relative; border-radius: 10px; background-color: #fff; width: 100%; margin: auto; display: none; box-shadow: 0 0 10px rgba(154, 154, 154, 0.21); } @media screen and (min-width: 768px) { .file__upload_preview .file__upload_preview_dialog { width: 500px; } } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_header { position: relative; width: 100%; padding: 1rem; display: flex; align-items: center; justify-content: space-between; } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_header .file__upload_preview_title { font-size: 1.6rem; margin: 0; color: var(--file-upload-primary, #f57272); } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_header .file__upload_preview_btn_close { width: 25px; height: 25px; border-radius: 50%; background-color: var(--file-upload-primary, #f57272); display: flex; align-items: center; justify-content: center; border: 0; outline: none; cursor: pointer; } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_header .file__upload_preview_btn_close svg { width: 15px; height: 15px; fill: var(--file-upload-background, #fff); } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_body { width: 100%; position: relative; padding: 0.5rem 1rem; min-height: 100px; } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_footer { width: 100%; padding: 1rem 0.8rem; display: flex; justify-content: space-between; } .file__upload_preview .file__upload_preview_dialog .file__upload_preview_content .file__upload_preview_footer .btn { display: inline-block; background-color: var(--file-upload-primary, #f57272); color: var(--file-upload-background, #fff); border: 0; border-radius: 10px; padding: 0.6rem 1rem; margin: 0 auto; cursor: pointer; outline: none; } .file__upload_preview_backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.15); z-index: 1060; display: none; } body.file__upload_show .file__upload_preview_backdrop { display: block; animation: fadeIn; animation-duration: 0.3s; } @-webkit-keyframes zoomIn { 0% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } 50% { opacity: 1; } } @keyframes zoomIn { 0% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } 50% { opacity: 1; } } @-webkit-keyframes fadeIn { 0% { opacity: 0; } to { opacity: 1; } } @keyframes fadeIn { 0% { opacity: 0; } to { opacity: 1; } } @-webkit-keyframes zoomOut { 0% { opacity: 1; } 50% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } to { opacity: 0; } } @keyframes zoomOut { 0% { opacity: 1; } 50% { opacity: 0; -webkit-transform: scale3d(0.3, 0.3, 0.3); transform: scale3d(0.3, 0.3, 0.3); } to { opacity: 0; } } /*# sourceMappingURL=file-upload.css.map */ </sytle>');let file_upload_acceptedFiles={mp3:{type:"audio",format:"audio/mpeg"},wav:{type:"audio",format:"audio/wav"},mp4:{type:"video",format:"video/mp4"},mkv:{type:"video",format:"video/mkv"},gif:{type:"image",format:"image/gif"},jpg:{type:"image",format:"image/jpeg"},jpeg:{type:"image",format:"image/jpeg"},png:{type:"image",format:"image/png"},webp:{type:"image",format:"image/webp"},svg:{type:"image",format:"image/svg+xml"},xlsx:{type:"file",format:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},xls:{type:"file",format:"application/vnd.ms-excel"},csv:{type:"file",format:"text/csv"},pdf:{type:"file",format:"application/pdf"},docx:{type:"file",format:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},doc:{type:"file",format:"application/msword"},ppt:{type:"file",format:"application/vnd.ms-powerpoint"},pptx:{type:"file",format:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}};function file_upload_GenerateRandId(e=10){for(var i="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=l.length,t=0;t<e;t++)i+=l.charAt(Math.floor(Math.random()*a));return i}function file_upload_createEvent(e,i,l){$(document).on(i,e,function(e){l(e,this)})}let modalId="__"+file_upload_GenerateRandId(17);$("body").append('<div class="file__upload_preview_backdrop"></div>').append(`<div class="file__upload_preview" ${modalId}><div class="file__upload_preview_dialog"><div class="file__upload_preview_content"><div class="file__upload_preview_header"><h4 class="file__upload_preview_title">Preview</h4><button type="button" class="file__upload_preview_btn_close" data-close="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div><div class="file__upload_preview_body"></div><div class="file__upload_preview_footer"><button  type="button" class="btn" data-close="true">Close</button></div></div></div></div>`),file_upload_createEvent("["+modalId+'] [data-close="true"]',"click",function(e){$("["+modalId+"]").addClass("hiding"),setTimeout(function(){$("body").removeClass("file__upload_show"),$("["+modalId+"] .file__upload_preview_body").html(""),$("["+modalId+"]").removeClass("show").removeClass("hiding")},230)}),file_upload_createEvent("["+modalId+"]","click",function(e,i){e.target==i&&($("["+modalId+"]").addClass("hiding"),setTimeout(function(){$("body").removeClass("file__upload_show"),$("["+modalId+"] .file__upload_preview_body").html(""),$("["+modalId+"]").removeClass("show").removeClass("hiding")},230))});class FileUpload{constructor(e,i={},l=!1){this.selector=e,this.config=i,this.accept=["*"],this.acceptInput=["*"],this.title=null,this.maxSize=null,this.maxFile=null,this.lang="en",this.customs=null,this.selectorId="",this.inputId="",this.contentId="",this.resultId="",this.browseId="",this.loadingId="",this.contentDragId="",this.data=[],this.currentData=[],this.deletedIds=[],this.defaultStyle=`padding: 2px 5px;
            border-radius: 4px;
            color: white; 
            background-color: #f57272`,l&&this.log("Enabled"),this.validateConfig()}log(e){console.log("%canteikudevs-file-upload",this.defaultStyle,e)}validateConfig(){let e=this.config,i=this;if(this.selector){if(0==$(this.selector).length)return!1;let l="__"+file_upload_GenerateRandId(9);$(this.selector).attr(l,""),this.selectorId="["+l+"]"}if(void 0!==e.title&&(this.title=e.title),void 0!==e.accept){if(!Array.isArray(e.accept))return this.log("Config {accept} is not array."),!1;let a=Array.isArray(e.accept)?e.accept:["*"],t=[];a.forEach(e=>{if("*"!=e){let i=null;if(!file_upload_acceptedFiles[e])return this.log("Accept (."+e+") format was not found."),!1;i=file_upload_acceptedFiles[e].format,t.push(i)}}),t.length&&(this.acceptInput=t),this.accept=a}if(void 0!==e.maxSize){if(isNaN(e.maxSize))return this.log("Config {maxSize} is not a number."),!1;this.maxSize=parseInt(e.maxSize)}if(void 0!==e.maxFile){if(isNaN(e.maxFile))return this.log("Config {maxFile} is not a number."),!1;this.maxFile=parseInt(e.maxFile)}if(void 0!==e.customs&&$.each(e.customs,function(e,l){$(i.selectorId).get(0).style.setProperty("--file-upload-"+e,l),$("["+modalId+"]").get(0).style.setProperty("--file-upload-"+e,l)}),void 0!==e.lang){if(!["id","en"].includes(e.lang))return this.log("Config {lang} only id and en"),!1;this.lang=e.lang}this.draw()}draw(){let e=this.drawContent();$(this.selectorId).addClass("file__upload"),$(this.selectorId).html(e)}drawContent_info_format(){let e=Array.isArray(this.accept)?this.accept:["*"],i=[];e.forEach(e=>{void 0!=file_upload_acceptedFiles[e]&&i.push("."+e)});let l=i.join(", "),a="All file formats";"id"==this.lang&&(a="Semua format file"),l&&(a="Format : <strong>"+l+"</strong>","id"==this.lang&&(a="Format : <strong>"+l+"</strong>"));let t=this.maxSize?parseInt(this.maxSize):null,o="";null!=t&&(o=`Max : <strong>${t}MB</strong>`,"id"==this.lang&&(o=`Maksimal : <strong>${t}MB</strong>`));let d=[a,o],r="";return $.each(d,function(e,i){r+=`<span class="file__upload_info_span">${i}</span>`}),r}drawContent_info(){let e=this.config,i=e.title?e.title:null,l="";return i&&(l=`<h4 class="file__upload_info_title">${i}</h4>`),`<div class="file__upload_info">${l}${this.drawContent_info_format()}</div>`}drawContent_action(){let e=this,i="__"+file_upload_GenerateRandId(7);this.inputId="["+i+"]";let l="__"+file_upload_GenerateRandId(8);this.browseId="["+l+"]";let a=$(document.createElement("div")).append($(document.createElement("input")).attr({type:"file",accept:this.acceptInput,hidden:!0,multiple:!0,[i]:""})),t="Browse";"id"==this.lang&&(t="Jelajahi"),$("body").append(a);let o=`<div class="file__upload_action"><button type="button" class="file__upload_action_browse" ${l}>${t}</button></div>`;return file_upload_createEvent("["+l+"]","click",function(e){$("["+i+"]").trigger("click")}),file_upload_createEvent("["+i+"]","change",function(i){i.target.files.length&&e.renderUpload(i.target.files)}),o}drawContent_loading(){let e="__"+file_upload_GenerateRandId(7);return this.loadingId="["+e+"]",`<div class="file__upload_loading" ${e}></div>`}drawContent_dragEvent(){let e="__"+file_upload_GenerateRandId(7);return this.contentDragId="["+e+"]",`<div class="file__upload_dragged" ${e}></div>`}loading(e="show"){"show"==e?($(this.loadingId).css("zIndex",1),$(this.loadingId).html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="32" stroke-width="8" stroke="#2b3252" stroke-dasharray="50.26548245743669 50.26548245743669" fill="none" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle></svg>')):($(this.loadingId).css("zIndex","-1"),$(this.loadingId).html(""))}drawContent(){let e="";null!=this.maxFile&&(e=`<span class="file__upload_highlight">Max: ${this.maxFile} file</span>`);let i=`<div class="file__upload_icon"><div class="file__upload_icon_svg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z"/></svg></div>${e}</div>`,l="__"+file_upload_GenerateRandId(4)+"__";this.contentId="["+l+"]";let a=`<div class="file__upload_content" ${l}>${i}${this.drawContent_info()}${this.drawContent_action()}${this.drawContent_loading()}${this.drawContent_dragEvent()}</div>${this.drawError()}${this.drawResult()}`;return this.flexContent,this.renderEventDragAndDrop(),a}drawError(){let e="__"+file_upload_GenerateRandId(11);return this.errorId="["+e+"]",`<div class="file__upload_error" ${e}></div>`}drawResult(){let e="__"+file_upload_GenerateRandId(11);return this.resultId="["+e+"]",`<div class="file__upload_result" ${e}></div>`}renderEventDragAndDrop(){let e=this;file_upload_createEvent(this.contentId,"dragover",function(i,l){i.preventDefault(),$(l).addClass("drag"),$(e.browseId).addClass("disabled")}),file_upload_createEvent(this.contentId,"dragleave",function(i,l){i.preventDefault(),$(l).removeClass("drag"),$(e.browseId).removeClass("disabled")}),file_upload_createEvent(this.contentId,"drop",function(i,l){i.preventDefault();var a=i.originalEvent.dataTransfer.files;$(l).addClass("drop"),e.renderUpload(a),$(e.browseId).removeClass("disabled")})}renderUpload(e){let i=this,l=i.lang,a=[],t=this.data.length;if(null!=this.maxFile&&t+e.length>this.maxFile&&("id"==l?a.push(`File yang diunggah melebihi ${this.maxFile}`):a.push(`Uploaded files exceed ${this.maxFile}`)),this.loading("show"),$.each(e,function(t,o){let d=o.type,r=o.size,n=o.name,p=n;if(p.length>25&&(p=p.substr(0,10)+"...."+p.substr(p.length-10,p.length)),"*"==i.accept[0]||i.acceptInput.includes(d)||("id"==l?a.push(`<strong class="file__upload_error_filename">"${p}"</strong> format tidak sesuai`):a.push(`The uploaded <strong class="file__upload_error_filename">"${p}"</strong> file format does not match`)),null!=i.maxSize&&r>1e6*i.maxSize&&("id"==l?a.push(`Ukuran maksimal file <strong class="file__upload_error_filename">"${p}"</strong> harus ${i.maxSize}MB`):a.push(`The maximum size of the <strong class="file__upload_error_filename">"${p}"</strong> file must be ${i.maxSize}MB`)),0==a.length){var s=new FileReader;s.addEventListener("load",function(e){let l=e.target.result,t={id:("__"+file_upload_GenerateRandId(13)).toString(),name:n,size:r/1e3,type:d,fileType:i.getAcceptFileType(d),data:l};0==a.length&&i.drawUploadFile(t)}),s.readAsDataURL(o)}e.length==t+1&&($(i.inputId).val(""),setTimeout(()=>{i.loading("hide")},300))}),$(this.errorId).html(""),a.length){let o="";$.each(a,function(e,i){let l="--"+file_upload_GenerateRandId(9);o+=`<span class="file__upload_error_item" ${l}>${i}</span>`,file_upload_createEvent("["+l+"]","click",function(e){e.preventDefault(),$(e.target).remove()})}),$(this.errorId).html(o)}setTimeout(function(){$(i.contentId).removeClass("drop drag")},300)}getAcceptFileType(e){let i="";return $.each(file_upload_acceptedFiles,function(l,a){a.format==e&&(i=a.type)}),i}drawUploadFile(e){let i=this,l="",a="__"+file_upload_GenerateRandId(16);"image"==this.getAcceptFileType(e.type)&&(l=`<div class="file__upload_result_image" ${a}><img src="${e.data}" alt="${e.name}"></div>`,file_upload_createEvent("["+a+"]","click",function(l){i.previewFile(e)})),("video"==this.getAcceptFileType(e.type)||"audio"==this.getAcceptFileType(e.type))&&(l=`<div class="file__upload_result_image" ${a}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></div>`,file_upload_createEvent("["+a+"]","click",function(l){i.previewFile(e)}));let t="__"+file_upload_GenerateRandId(10);file_upload_GenerateRandId(12);let o=e.name;o.length>25&&(o=o.substr(0,10)+"...."+o.substr(o.length-10,o.length));let d=`<div class="file__upload_result_item" ${e.id}>${l}<div class="file__upload_result_info"><h4 class="file__upload_result_info_title">${o}</h4><span class="file_upload_result_info_span">${e.size} KB</span></div><div class="file__upload_result_action"><button type="button" class="file__upload_result_action_close" ${t}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div></div>`;file_upload_createEvent("["+t+"]","click",function(l){i.removeUploadedFile(e.id)}),this.data.push(e),null!=this.maxFile&&this.data.length==this.maxFile&&$(this.browseId).addClass("disabled"),$(this.resultId).append(d),$(this.selector).trigger("upload")}removeUploadedFile(e){let i=[];$.each(this.data,function(l,a){a.id!=e.toString()&&i.push({id:a.id,name:a.name,size:a.size,type:a.type,data:a.data})}),this.data=i,$("["+e+"]").fadeOut(200),setTimeout(()=>{$("["+e+"]").remove()},200),$(this.browseId).removeClass("disabled")}previewFile(e){let i=`<img src="${e.data}" alt="${e.name}">`;"video"==e.fileType&&(i=`<video autoplay controls style="width: 100%"><source type="${e.type}" src="${e.data}"></source></video>`),"audio"==e.fileType&&(i=`<audio autoplay controls style="width: 100%"><source type="${e.type}" src="${e.data}"></source></audio>`);let l="Previews",a="Close";"id"==this.lang&&(l="Pratinjau",a="Tutup"),$("["+modalId+"]").find(".file__upload_preview_title").html(l),$("["+modalId+"]").find(".file__upload_preview_body").html(i),$("["+modalId+"]").find(".file__upload_preview_footer .btn").text(a),$("["+modalId+"]").addClass("show"),$("body").addClass("file__upload_show")}getValue(e=!1){let i=[];return($.each(this.data,function(l,a){e?i.push(a.data):i.push(a)}),1==this.maxFile)?i[0]??null:i}_refresh(){null!=this.maxFile&&(this.data.length==this.maxFile||this.currentData.length==this.maxFile)&&$(this.browseId).addClass("disabled"),$(this.selector).trigger("upload")}clear(){this.data=[],this._refresh()}drawSetValue(e){let i=this,l="",a="__"+file_upload_GenerateRandId(16);"image"==this.getAcceptFileType(e.type)&&(l=`<div class="file__upload_result_image" ${a}><img src="${e.data}" alt="${e.name}"></div>`,file_upload_createEvent("["+a+"]","click",function(l){i.previewFile(e)})),"video"==this.getAcceptFileType(e.type)&&(l=`<div class="file__upload_result_image" ${a}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></div>`,file_upload_createEvent("["+a+"]","click",function(l){i.previewFile(e)}));let t="__"+file_upload_GenerateRandId(10),o=(file_upload_GenerateRandId(12),"__"+file_upload_GenerateRandId(13)),d=`<div class="file__upload_result_item" ${o}>${l}<div class="file__upload_result_info"><h4 class="file__upload_result_info_title">${e.name}</h4></div><div class="file__upload_result_action"><button type="button" class="file__upload_result_action_close" ${t}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg></button></div></div>`;file_upload_createEvent("["+t+"]","click",function(l){i.removeSetValue(o,e.id)}),null!=this.maxFile&&this.data.length==this.maxFile&&$(this.browseId).addClass("disabled"),$(this.resultId).append(d)}removeSetValue(e,i){this.deletedIds.push(i),$("["+e+"]").fadeOut(200),setTimeout(()=>{$("["+e+"]").remove()},200),$(this.browseId).removeClass("disabled")}setValue(e){let i=this;if(!Array.isArray(e))return alert("setData not in array!"),!1;let l=[];$.each(e,function(e,a){if(a.data){let t=a.data.split(".").pop(),o=a.name?a.name:a.data.split("/").pop(),d={id:a.id,name:o,type:file_upload_acceptedFiles[t].format,data:a.data};i.drawSetValue(d),l.push(d)}}),this.currentData=l,this._refresh()}clearValue(){if(this.currentData.length){let e=[];$.each(this.currentData,function(i,l){e.push(l.id)}),this.deletedIds=e}this.data=[],$(this.contentId).html("")}}